##  Идеи проектов - 2003

Новацией - 2023 является разделение проектов на кластеры. Студенты работают в группах 2-3 человека,
делая относительно компактные проекты. Однако, предполагается, что проекты из одного кластера
будут друг с другом совместимы и можно будет собрать из них что-то большое и интересное.

### Синхронизация LSM базы данных

Внутренний формат записи в типичной LSM базе данных:
 - ключ (строка)
 - значение (строка)
 - версия, он же seq (uint64_t, последовательно назначаемые)

Синхронизация в такой БД возможна только master-slave, последовательной подачей лога операций (записей).
Мы немножко доопределим формат: добавим понятие лампортова ID (lamport timestamp) на основе seq.
lseq это 64 битный идентификатор, где верхние 5 байт это seq, а нижние 3 это id реплики.
`lseq = (seq<<24) | id`

С таким версионированием, мы можем синхронизировать реплики в произвольной топологии, как в git.

Этот формат может породить следующие проекты:

 1. lseq хранилище на основе leveldb/rocksdb/pebble (C++/go) с возможностью синхронизации с удалёнными репликами по сети
 2. система контроля версий, сохраняющая данные (построчно) в lseq хранилище (key-value пара это строка, diff скажет какие строки класть/удалять)
 3. ORM подобный маппер объектов (в вашем любимом языке) из/в lseq хранилище
 4. криптографическая верификация lseq хранилища (читаем записи, хэшируем, подписываем, сохраняем подписи и хэши в lseq же, так же - проверяем целостность)
 5. восстановление исторических версий lseq хранилища (снапшоты) - для seq это встроенный функционал, а вот для lseq нужно реализовать векторные часы.
 
 Внутренний формат lseq хранилища выработать совместно.
